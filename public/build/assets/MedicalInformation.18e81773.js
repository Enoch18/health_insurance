import{r as f,q as F,a as o,j as a,F as j,c as L}from"./app.e0868774.js";import{K as r}from"./KeyAndValue.364fd947.js";import{C as D}from"./CustomModal.2fe4e5bb.js";import{C as u}from"./CustomTextInput.f2c70347.js";import{C as K}from"./CustomSelectbox.85340afe.js";import{A as O}from"./Alert.bb949d5c.js";import{P as $}from"./PolicyHolderLayout.878fef71.js";import"./createSimplePaletteValueFilter.98a057b1.js";import"./MainLayout.0824f71e.js";import"./useTypedPage.b1bffe46.js";import"./Paper.f1fc2464.js";import"./TopHeaderSection.db497e75.js";const E=({item:i,policy_holder_id:d})=>{var x,v,C,P,k,S;const[l,h]=f.exports.useState(!1),[e,n]=f.exports.useState({}),[y,N]=f.exports.useState(""),[p,I]=f.exports.useState(""),{errors:t}=F().props;function s(c){const m=c.target.id,_=c.target.value;n(b=>({...b,[m]:_}))}const M=c=>{c.preventDefault(),L.put(`/policy-holders/${d}/medical-information/${y}`,e,{onSuccess:()=>{h(!1)},onError:m=>{I(m.error)}})};return o("div",{children:[o("div",{className:"flex flex-row items-center border-b border-gray-500",children:[a("div",{className:"flex flex-row flex-1 items-center",children:a("div",{className:"grid grid-cols-1 md:grid-cols-2 w-[100%]",children:i.condition!=="No medical condition"?o(j,{children:[a(r,{label:"Condition",value:(x=i.condition)!=null?x:"N/A"}),a(r,{label:"Notes",value:(v=i.medical_history_notes)!=null?v:"N/A"}),a(r,{label:"Last Checkup",value:(C=i.last_checkup_date)!=null?C:"N/A"}),a(r,{label:"Primary Physician",value:(P=i.primary_physician)!=null?P:"N/A"}),a(r,{label:"Physician Email",value:(k=i.physician_email)!=null?k:"N/A"}),a(r,{label:"Physician Phone",value:(S=i.physician_phone)!=null?S:"N/A"})]}):a(r,{label:"Condition",value:i.condition})})}),a("button",{onClick:()=>{var c,m,_,b,A,w,V;h(!0),N(i.id),n({condition:(c=i.condition)!=null?c:"",medical_history_notes:(m=i.medical_history_notes)!=null?m:"",primary_physician:(_=i.primary_physician)!=null?_:"",physician_phone:(b=i.physician_phone)!=null?b:"",physician_email:(A=i.physician_email)!=null?A:"",last_checkup_date:(w=i.last_checkup_date)!=null?w:"",status:(V=i.status)!=null?V:""}),i.dependant_id?n(g=>({...g,dependant_id:i.dependant_id})):n(g=>({...g,policy_holder_id:i.policy_holder_id}))},className:"bg-blue-500 p-2 rounded shadow",children:"Edit"})]}),a("form",{onSubmit:M,children:o(D,{open:l,setOpen:h,children:[a("h4",{className:"text-lg font-bold",children:"Edit Medical Condition"}),a("hr",{}),p!==""&&p!==void 0&&a(O,{severity:"error",className:"my-2",children:p}),a(u,{id:"condition",name:"condition",label:"Condition",setValue:s,value:e==null?void 0:e.condition,error:t==null?void 0:t.condition}),a(u,{id:"primary_physician",name:"primary_physician",label:"Primary Physician",setValue:s,value:e==null?void 0:e.primary_physician,error:t==null?void 0:t.primary_physician}),a(u,{id:"physician_email",name:"physician_email",label:"Physician Email",setValue:s,value:e==null?void 0:e.physician_email,error:t==null?void 0:t.physician_email}),a(u,{id:"physician_phone",name:"physician_phone",label:"Physician Phone Number",setValue:s,value:e==null?void 0:e.physician_phone,error:t==null?void 0:t.physician_phone}),a(u,{id:"last_checkup_date",name:"last_checkup_date",label:"Last Checkup Date",setValue:s,value:e==null?void 0:e.last_checkup_date,error:t==null?void 0:t.last_checkup_date}),o("div",{className:"mt-2",children:[a("label",{className:"text-sm",children:"Notes"}),a("textarea",{id:"medical_history_notes",name:"medical_history_notes",value:e==null?void 0:e.medical_history_notes,onChange:s,className:"w-[100%] rounded bg-gray-600"}),(t==null?void 0:t.medical_history_notes)&&a("p",{className:"text-red-500 -mt-2 text-sm",children:t==null?void 0:t.medical_history_notes})]}),a(K,{id:"status",name:"status",label:"Status",data:[{label:"Ongoing",value:"ongoing"},{label:"Current",value:"current"}],setValue:s,value:e==null?void 0:e.status,error:t==null?void 0:t.status}),a("button",{className:"bg-blue-500 p-2 text-white rounded shadow mt-2 w-full",children:"Submit"})]})})]})},Y=({policy_holder:i,policy_holder_medicals:d,dependant_medicals:l})=>{var h;return console.log(l),o($,{policy_holder:i==null?void 0:i.data,children:[a("h2",{className:"text-lg font-bold",children:"Family Medical Information"}),a("hr",{className:"border-gray-500"}),o("div",{className:"mt-2 border-b border-gray-500",children:[a("h4",{className:"font-semibold text-blue-300",children:d.policy_holder}),(h=d==null?void 0:d.medicals)==null?void 0:h.map((e,n)=>a(E,{item:e,policy_holder_id:i.data.id},n))]}),l.length>0&&a("div",{children:l==null?void 0:l.map((e,n)=>{var y;return o("div",{className:"border-b border-gray-500",children:[a("h4",{className:"font-semibold text-blue-300 mt-3",children:e.dependant}),(y=e==null?void 0:e.medicals)==null?void 0:y.map((N,p)=>a(E,{item:N,policy_holder_id:i.data.id},p))]},n)})})]})};export{Y as default};
