import{r as o,a as f,j as e,c as N,u as C,b as d}from"./app.099c68d2.js";import{j as y}from"./MainLayout.0960af3c.js";import{T as S}from"./TopHeaderSection.cedea162.js";import{T as A}from"./Table.132832a0.js";import{r as c,f as g}from"./helper.7a2b918a.js";import{L as T}from"./Loader.8e8b3ffc.js";import"./useTypedPage.d8b311d4.js";const w=({coverage_level_id:a,benefit_package_id:n,insurance_type_id:t,defaultLimitAmount:m,setSubmitting:l})=>{var h;const[r,u]=o.exports.useState(""),[i,p]=o.exports.useState(""),x=o.exports.useRef(null),b=s=>{N.post(`/administrations/insurance-types/${t}/add-coverage-level-benefit-limit`,{coverage_level_id:a,benefit_package_id:n,limit_amount:s},{onSuccess:()=>{l(!1)}})};return o.exports.useEffect(()=>{const s=setTimeout(()=>{if(r!==""&&Number(c(r))>0){let L=c(r);l(!0),b(Number(L))}},500);return()=>{clearTimeout(s)}},[r]),f("form",{children:[e("div",{className:"flex flex-row items-center gap-2",children:e("input",{ref:x,type:"text",onChange:s=>{if(p(""),isNaN(c(s.target.value))){p("Please enter a valid amount!"),u("");return}u(c(s.target.value))},className:"w-[100%] rounded dark:bg-gray-500 dark:text-white",defaultValue:(h=g(m))!=null?h:"0.00",placeholder:"Enter benefit limit"})}),i!==""&&e("p",{className:"text-red-500 font-semibold",children:i})]})},D=({benefit_packages:a,insurance_type_id:n,coverage_level:t})=>{const m=C(),[l,r]=o.exports.useState(!1),u=[{id:"code",label:"Code"},{id:"description",label:"Description"},{id:"currency",label:"Currency"},{id:"limitAmount",label:"Limit Amount"},{id:"loader",label:""}];return f(y,{title:"Insurance Setups | Coverage Level Benefit Limits",children:[f("div",{className:"flex flex-row gap-1 items-center",children:[e(d,{className:"text-blue-500",href:m("administrations.index"),children:"Administrations"})," ",">",e(d,{className:"text-blue-500",href:m("insurance-types.index"),children:"Insurance Management"})," ",">",e(d,{className:"text-blue-500",href:`/administrations/insurance-types/setups/${n}`,children:"Insurance Setups"})," ",">",e(d,{className:"text-blue-500",href:`/administrations/insurance-types/${n}/benefit-limits`,children:"Benefit Limits"})," ",">",e("h4",{children:t==null?void 0:t.name})]}),e(S,{title:`${t==null?void 0:t.name} Limits`,hideAddBtn:!0}),e(A,{headers:u,rows:a==null?void 0:a.map(i=>({code:i.code,description:i.description,currency:"USD",limitAmount:e(w,{benefit_package_id:i.benefit_package_id,coverage_level_id:i.coverage_level_id,insurance_type_id:n,defaultLimitAmount:i.limit_amount,setSubmitting:r}),loader:e("span",{children:l&&e(T,{})})}))})]})};export{D as default};
