import{r as l,T,u as M,q as _,a as u,j as e,b as U,c as V}from"./app.e0868774.js";import{j}from"./MainLayout.0824f71e.js";import{T as A}from"./TopHeaderSection.db497e75.js";import{T as B}from"./Table.361516fa.js";import{C as E}from"./CustomModal.2fe4e5bb.js";import{C as i}from"./CustomTextInput.f2c70347.js";import{C as k}from"./CustomSelectbox.85340afe.js";import{B as D}from"./Breadcrumbs.cb625ac2.js";import{A as P}from"./Alert.bb949d5c.js";import"./useTypedPage.b1bffe46.js";import"./createSimplePaletteValueFilter.98a057b1.js";const Q=({users:b,roles:f})=>{const[h,n]=l.exports.useState(!1),[c,m]=l.exports.useState(!1),{setType:x,setMessage:w}=l.exports.useContext(T),[d,g]=l.exports.useState(""),p=M(),{errors:t}=_().props,[s,v]=l.exports.useState({name:"",email:"",role:"",password:"",confirm_password:""});function r(a){const o=a.target.id,y=a.target.value;v(N=>({...N,[o]:y}))}const C=[{id:"id",label:"ID"},{id:"name",label:"Name"},{id:"role",label:"Role"},{id:"email",label:"Email"},{id:"action",label:""}],S=a=>{a.preventDefault(),m(!0),V.post(p("users-management.store"),s,{onSuccess:()=>{m(!1),n(!1),w("User added successfully!"),x("success")},onError:o=>{g(o==null?void 0:o.error)},onFinish:()=>{m(!1)}})};return u(j,{title:"User Management",children:[e(D,{title:u("div",{className:"flex flex-row gap-1 items-center",children:[e(U,{className:"text-blue-500",href:p("administrations.index"),children:"Administrations"})," ",">",e("h4",{children:"User Management"})]})}),e(A,{title:"User Management",onBtnClick:()=>n(!0)}),e(B,{headers:C,rows:b.data.map(a=>({id:a.id,name:a.name,email:a.email})),hideCheckbox:!0}),e(E,{open:h,setOpen:n,children:u("form",{onSubmit:S,children:[e("h4",{className:"text-xl",children:"Add User"}),e("hr",{}),d!==""&&d!==void 0&&e(P,{severity:"error",className:"mb-2",children:d}),e(i,{id:"name",name:"name",label:"Name",setValue:r,value:s.name,error:t.name}),e(i,{id:"email",name:"email",label:"Email",setValue:r,value:s.email,error:t.email}),e(k,{id:"role_id",name:"role_id",label:"Role",data:f.map(a=>({label:a.name,value:a.id})),setValue:r,value:s.role_id,error:t.role_id}),e("h4",{className:"mt-5",children:"Password Details"}),e(i,{id:"password",type:"password",name:"password",label:"Password",setValue:r,value:s.password,error:t.password}),e(i,{id:"password",type:"password",name:"password",label:"Confirm Password",setValue:r,value:s.confirm_password,error:t.confirm_password}),e("button",{className:"bg-blue-500 text-white px-5 py-2 rounded mt-3",disabled:c,children:c?"Submiting...":"Submit"})]})})]})};export{Q as default};
