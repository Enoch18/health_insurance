import{r,T as A,u as j,q as D,a as c,j as e,b as x,c as b}from"./app.e0868774.js";import{j as E,w as M,m as V}from"./MainLayout.0824f71e.js";import{T as k}from"./TopHeaderSection.db497e75.js";import{T as F}from"./Table.361516fa.js";import{C as _}from"./CustomModal.2fe4e5bb.js";import{C as h}from"./CustomTextInput.f2c70347.js";import{C as $}from"./CustomSelectbox.85340afe.js";import"./useTypedPage.b1bffe46.js";const J=({insurance_types:v})=>{const[g,t]=r.exports.useState(!1),[m,y]=r.exports.useState(""),[f,a]=r.exports.useState(!1),{setType:o,setMessage:i}=r.exports.useContext(A),[n,u]=r.exports.useState({name:"",description:"",status:""}),l=j(),{errors:d}=D().props,S=[{id:"insurance_id",label:"Insurance #"},{id:"name",label:"Insurance Name"},{id:"description",label:"Insurance Description"},{id:"status",label:"Status"},{id:"action",label:""}];function p(s){const N=s.target.id,T=s.target.value;u(w=>({...w,[N]:T}))}const I=[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],C=s=>{s.preventDefault(),a(!0),m?b.put(`${l("insurance-types.store")}/${m}`,n,{onSuccess:()=>{a(!1),i("Insurance udpated successfully!"),o("success"),t(!1)},onError:()=>{i("An error occured while trying to save!"),o("error"),a(!1)}}):b.post(l("insurance-types.store"),n,{onSuccess:()=>{a(!1),i("Insurance saved successfully!"),o("success"),t(!1)},onError:()=>{i("An error occured while trying to update!"),o("error"),a(!1)}})};return c(E,{title:"Insurance Types",children:[e(k,{title:c("div",{className:"flex flex-row gap-1 items-center",children:[e(x,{className:"text-blue-500",href:l("administrations.index"),children:"Administrations"})," ",">",e("h4",{children:"Insurance Management"})]}),onBtnClick:()=>{t(!0),u({name:"",description:"",status:""})}}),e(F,{headers:S,rows:v.data.map(s=>({insurance_id:s.insurance_number,name:s.name,description:s.description,status:s.status,action:c("div",{className:"flex flex-row items-center gap-3",children:[e(x,{className:"border p-1 rounded",href:`/administrations/insurance-types/setups/${s.id}`,children:e(M,{className:"text-blue-500 text-xl"})}),e("button",{onClick:()=>{t(!0),y(s.id),u({name:s.name,description:s.description,status:s.status})},className:"border p-1 rounded",children:e(V,{className:"text-green-500 text-xl"})})]})}))}),e(_,{open:g,setOpen:t,children:c("form",{onSubmit:C,children:[e("h4",{className:"text-xl",children:"Add Insurance"}),e("hr",{}),e(h,{id:"name",name:"name",label:"Name",setValue:p,value:n.name,error:d.name}),e(h,{id:"description",name:"description",label:"Description",setValue:p,value:n.description,error:d.description}),e($,{id:"status",name:"status",label:"Status",data:I,setValue:p,value:n.status,error:d.status}),e("button",{className:"bg-blue-500 text-white px-5 py-2 rounded mt-3",disabled:f,children:f?"Submiting...":"Submit"})]})})]})};export{J as default};
