import{u as h,r as a,W as x,a as r,j as o,Y as b}from"./app.099c68d2.js";import{c as C}from"./index.893e1e4b.js";import{A as N}from"./AuthenticationCard.ead31740.js";import{I as d}from"./InputLabel.a48268e4.js";import{P as R}from"./PrimaryButton.569ff024.js";import{T as m}from"./TextInput.3b3d916b.js";import{I as f}from"./InputError.7bff0b25.js";function j(){const y=h(),[c,p]=a.exports.useState(!1),e=x({code:"",recovery_code:""}),s=a.exports.useRef(null),n=a.exports.useRef(null);function v(t){t.preventDefault();const i=!c;p(i),setTimeout(()=>{var l,u;i?((l=s.current)==null||l.focus(),e.setData("code","")):((u=n.current)==null||u.focus(),e.setData("recovery_code",""))},100)}function g(t){t.preventDefault(),e.post(y("two-factor.login"))}return r(N,{children:[o(b,{title:"Two-Factor Confirmation"}),o("div",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:c?"Please confirm access to your account by entering one of your emergency recovery codes.":"Please confirm access to your account by entering the authentication code provided by your authenticator application."}),r("form",{onSubmit:g,children:[c?r("div",{children:[o(d,{htmlFor:"recovery_code",children:"Recovery Code"}),o(m,{id:"recovery_code",type:"text",className:"mt-1 block w-full",value:e.data.recovery_code,onChange:t=>e.setData("recovery_code",t.currentTarget.value),ref:s,autoComplete:"one-time-code"}),o(f,{className:"mt-2",message:e.errors.recovery_code})]}):r("div",{children:[o(d,{htmlFor:"code",children:"Code"}),o(m,{id:"code",type:"text",inputMode:"numeric",className:"mt-1 block w-full",value:e.data.code,onChange:t=>e.setData("code",t.currentTarget.value),autoFocus:!0,autoComplete:"one-time-code",ref:n}),o(f,{className:"mt-2",message:e.errors.code})]}),r("div",{className:"flex items-center justify-end mt-4",children:[o("button",{type:"button",className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 underline cursor-pointer",onClick:v,children:c?"Use an authentication code":"Use a recovery code"}),o(R,{className:C("ml-4",{"opacity-25":e.processing}),disabled:e.processing,children:"Log in"})]})]})]})}export{j as default};
